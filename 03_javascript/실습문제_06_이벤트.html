<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js - 실습문제 - 이벤트</title>
</head>
<body>
    <!--
        #btn-generate을 클릭하면 아래데이터를 javascript객체로 먼저 만들고 배열로 관리한다
        배열을 순회하면서 button태그를 동적으로 생성한다
        생성된 버튼태그를 클릭하면 각각의 url로 페이지이동해야한다

        버튼 value              이동할 url
        ---------------------------------------------
        네이버                  https://www.naver.com
        구글                    https://www.google.com
        KH                      https://www.iei.co.kr
        와삼스쿨                    https://www.w3schools.com
    -->
    <h1>실습문제_이벤트</h1>
    <button type="button" id="btn-generate">버튼생성</button>
    <div id="wrapper">
        <!-- <button type="button" data-url="https://www.naver.com">네이버</button>
        <button type="button" data-url="https://www.google.com">구글</button>
        <button type="button" data-url="https://www.youtube.com">유튜브</button> -->
    </div>
    <script>
        //태그의 데이터속성
        // var btns = document.querySelectorAll("#wrapper button");
        // console.log(btns);
        // btns.forEach(function(btn,i) {
        //     console.log(btn.dataset);
        //     btn.addEventListener('click',function() {
        //         open(btn.dataset.url,"");
        //     })
        // });


        // function AA(name,url) {
        //     this.name = name;
        //     this.url = url;
        // };

        // function test1() {
        //     var arr = [
        //         new AA('네이버','https://www.naver.com'),
        //         new AA('구글','https://www.google.com'),
        //         new AA('KH','https://www.iei.or.kr/main/main.kh'),
        //         new AA('와삼스쿨','https://www.w3schools.com')
        //     ];

        //     //요소마다 실행구문(for..in과 비교해보기)
        //     arr.forEach(function(elem,i) {
        //         var btn = document.createElement("button");
        //         btn.type = "button";
        //         btn.innerText = elem.name;
        //         btn.style = "margin:10px";
        //         btn.onclick = function() {
        //             console.log(btn);
        //             console.log(i,elem);
        //             open(elem.url,"newWindow", "width=800, height=500, top=300, left=300"); 
        //         }
        //         //console.log(btn);
        //         document.querySelector("#wrapper").appendChild(btn);
        //     });

        // };

        
        //실습답안
        document.querySelector("#btn-generate").onclick = function(e){
            var btns = [
                new MyButton("네이버", "https://www.naver.com"),
                new MyButton("구글", "https://www.google.com"),
                new MyButton("KH", "https://www.iei.or.kr"),
                new MyButton("와삼", "https://www.w3schools.com"),
            ];

            var btnWrapper = document.querySelector("#wrapper");
            btns.forEach(function(btn, i){
                var html = "<button type='button' onclick='goTo(\"" + btn.url + "\");'>"
                        + btn.value
                        + "</button>&nbsp;"
                console.log(html);
                btnWrapper.innerHTML += html;
            });

            //1회만 실행되도록 핸들러 삭제
            e.target.onclick = null;
        };
        
    
     //생성자함수
        
        function MyButton(value, url) {
            this.value = value;
            this.url = url;
        }

        function goTo(url){
            location.href = url;
            //window.open(url,"","");
        }

    
    
    </script>

</body>
</html>