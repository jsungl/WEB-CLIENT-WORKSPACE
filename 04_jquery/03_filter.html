<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jquery - filter</title>
    <script src="js/jquery-3.6.0.js"></script>
</head>
<body>
    <h1>Filter</h1>
    <input type="button" value="filter" onclick="test1();">
    <input type="button" value="first | last | eq | not" onclick="test2();">

    <div class="wrapper">
        <p class="test">안녕1</p>
        <p class="test">안녕2</p>
        <p class="test">안녕3</p>
        <p class="test">안녕4</p>
        <p class="test">안녕5</p>
        <p class="test">안녕6</p>
        <p class="test">안녕7</p>
        <p>안녕8</p>
        <p>안녕9</p>
        <p>안녕10</p>
    </div>
    <script>
        /**
         * filter
         * 현재 jquery객체의 요소중에 selector에 부합하는 요소만 추려서 다시 jquery객체로 반환
         */
        function test1() {
            var $p = $(".wrapper>p");
            //console.log($p);
            console.log($p.filter(".test"));
            // $(".wrapper *").css("color","red");

            //$p.filter(".test").css("color","pink");
            //$p.filter(":even").css("color","yellowgreen"); //짝수 인덱스 요소만 반환 0 2 4 6 ..
            //$p.filter(":odd").css("color","blue"); //홀수 인덱스 요소만 반환 1 3 5 7 ..

            //콜백함수를 통한 filtering
            //  $p.filter(function(index,p) {
            //      //console.log(index,p,index % 2 == 0);
            //      return index % 2 == 0
            //  }).css("color","yellowgreen"); //function의 return값이 true면 filter실행, false면 실행하지않는다

            //p태그안의 text중 안녕을 제외한 숫자가 짝수인 경우만 css적용하기
            $p.filter(function(index,p) {
                //console.log(p.innerText);
                var num = p.innerText.replace(/[^\d]/g,""); //숫자를 공백으로 처리
                //var num = p.innerText.replace(/[^0-9]/g,"");
                console.log(num);
                return num % 2 == 0;
            }).css("color","blue");
        }


        /**
         * first()
         * last()
         * eq()
         * not()
         */
        function test2() {
            var $p = $(".wrapper p");
            console.log($p); //jquery객체
            console.log($p.first()); //첫번째요소만 뽑아서 다시 jquery객체로 리턴
            console.log($p[0]); //javascript태그객체

            // $p.first()
            //     .css("font-size","2em")
            //     .css("color","blue");
            
            // $p.eq(3)
            //     .css("font-size","2em")
            //     .css("color","blue");
            
            // $p.last()
            //     .css("font-size","2em")
            //     .css("color","blue");
            
            // $p.not(".test")
            //     .css("font-size","2em")
            //     .css("color","blue");

        }
    </script>
</body>
</html>